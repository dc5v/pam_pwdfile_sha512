pam_pwdfile_sha512
==================


기존의 libpam-pwdfile은 MD5를 사용한 인증 방식을 제공하지만, MD5보다 SHA512가 더 안전할 것이라는 판단 하에 본 프로젝트는 보안이 더 뛰어난 SHA512를 사용한 인증 방식을 제공합니다.
이 프로젝트는 https://github.com/tiwe-de/libpam-pwdfile 를 포크한 것입니다.


작성자
------

Kinomoto <dev@dc5v.com>


빌드 및 설치방법
----------------

install시 pam_unix.so가 설치된 시스템 공유 라이브러리에 설치하기 위해 sudo 권한이 필요합니다.
자세한 사항은 Makefile을 확인하십시오.

1. 필요한 패키지를 설치합니다:
sudo apt-get install -y libpam0g-dev libssl-dev

1. 다음 명령어를 사용하여 빌드하고 설치합니다:
make
sudo make install


사용방법
--------

설정방식은 설정관리의 편암함을 드리기위해, 기존 pam_pwdfile의 설정방식과 IPSEC의 EAP설정방식을 벗어나지 않도록 구현했습니다.
설정 파일과 사용자 정보 예제는 아래와 같습니다.

.../pam.d/charon:
auth    required    pam_pwdfile_sha512.so pwdfile=.../userdata.secret

.../userdata.secret:
user1:$2y$10$7Bv6eA8aA5uX9G87S0D8N8R7S9.X5F3Q1V6C3M1P9Q1G1A5N2MT7K
user2:$2y$10$8H1L2J5KR8T1A2P4F9N1K3L2E8D9G7M6J5R3Q8T0N1A7L3N4M6Q7


빌드 시 필요한 패키지
---------------------

- libpam0g-dev
- libssl-dev


이러한 인증방식을 고안한 이유
-----------------------------

제가 운영하는 IPSEC VPN 서버는 매주 한 번씩 비밀키를 업데이트합니다. 비밀키는 사용자에게 직접 안전하게 배포되도록 설계되었습니다. 그러나 사용자의 모바일 기기에 매주 IPSEC 인증 정보를 업데이트하는 것은 매우 불편합니다. MDM을 통한 강제 업데이트는 안전하지 않거나 사용자들의 불만을 야기할 수 있습니다.

따라서 비밀키가 업데이트될 때마다 사용자의 PAM 인증 정보를 포함하지 않은 임의의 인증 정보도 함께 업데이트하여 매주 신선한 비밀키와 QRCODE 이미지를 제공합니다. 물론, 이러한 방식은 편리함을 제공하는 만큼 보안에 취약해질 수 있다는 점을 알고 있습니다. 

"하지만 지금 떠오른 아이디어로써 이 방법이 최선이라고 생각합니다."


면책사항 및 주의사항
--------------------

이 소프트웨어는 어떠한 보증도 없이 "있는 그대로" 제공됩니다. 소프트웨어의 사용으로 인한 직접적이거나 간접적인 손해에 대해 저자는 책임지지 않습니다. 이 소프트웨어를 사용함으로써 발생하는 모든 위험은 사용자가 감수해야 합니다. 사용 전, 시스템에 적합한지 충분히 검토하고 테스트하시기 바랍니다.


라이센스
--------

이 프로젝트는 Unlicense로 배포됩니다. 자유롭게 가져가서 유용하게 사용하시고, 피드백도 환영합니다.
